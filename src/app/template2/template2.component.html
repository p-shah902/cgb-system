<!-- Toasts Container -->
<div class="toast-container position-fixed top-0 end-0 p-3">
  <ngb-toast
    *ngFor="let toast of toastService.toasts"
    [class]="'bg-' + toast.type +' text-white'"
    [autohide]="true"
    [delay]="5000"
    (hidden)="toastService.remove(toast)"
  >
    {{ toast.message }}
  </ngb-toast>
</div>

<div class="container-fluid">
  <div class="row">
    <div [ngClass]="isExpanded ? 'col-md-9' : 'col-md-12'">
      <div class="form-main-div">
        <div class="form-header sticky-header mb-4">
          <div class="row align-items-center">
            <div class="col-md-6">
              <div class="d-flex gap-3 align-items-center">
                <div class="form-group mb-3 mb-sm-3 mb-md-0">
                  <select #sectionDropdown class="form-control" (change)="scrollToSection($event)">
                    <option value="section1">1. General Information</option>
                    <option value="section2">2. Procurement Details</option>
                    <option value="section3">3. CDD (Counterparty Due Diligence)</option>
                    <option value="section4">4. Evaluation Summary</option>
                    <option value="section6">5. Value Delivery</option>
                    <option value="section7">6. Cost Allocation and JV Approval</option>
                    <option value="section8">7. Cost Sharing Methodology</option>
                    <option value="section9">8. Consultation</option>
                  </select>
                </div>
                <div class="fh-search">
                  <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M16 14H15.21L14.93 13.73C15.91 12.59 16.5 11.11 16.5 9.5C16.5 5.91 13.59 3 10 3C6.41 3 3.5 5.91 3.5 9.5C3.5 13.09 6.41 16 10 16C11.61 16 13.09 15.41 14.23 14.43L14.5 14.71V15.5L19.5 20.49L20.99 19L16 14ZM10 14C7.51 14 5.5 11.99 5.5 9.5C5.5 7.01 7.51 5 10 5C12.49 5 14.5 7.01 14.5 9.5C14.5 11.99 12.49 14 10 14Z"
                          fill="#84818A"/>
                  </svg>

                  <input type="text" class="form-control" placeholder="Search field" (input)="onSearch($event.target)">
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="fh-action d-flex gap-3 justify-content-end">
                <button class="btn btn-light">
                  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M0.599976 9L0.0428889 8.77717C-0.0143289 8.92021 -0.0143289 9.07979 0.0428889 9.22283L0.599976 9ZM17.4 9L17.9571 9.22284C18.0143 9.07979 18.0143 8.92021 17.9571 8.77716L17.4 9ZM8.99996 14.4C6.22314 14.4 4.27331 13.0179 2.99594 11.5986C2.35684 10.8885 1.89371 10.1764 1.59074 9.64169C1.43959 9.37496 1.32924 9.15406 1.25753 9.00196C1.22171 8.92596 1.19559 8.86728 1.17893 8.82882C1.1706 8.80959 1.16463 8.79543 1.161 8.7867C1.15918 8.78233 1.15795 8.77932 1.15729 8.77772C1.15696 8.77692 1.15678 8.77647 1.15674 8.77637C1.15672 8.77633 1.15674 8.77637 1.15679 8.7765C1.15682 8.77657 1.15689 8.77673 1.1569 8.77677C1.15698 8.77696 1.15706 8.77717 0.599976 9C0.0428889 9.22283 0.0429921 9.22309 0.0431045 9.22337C0.0431543 9.2235 0.0432763 9.2238 0.0433761 9.22405C0.0435758 9.22454 0.0438129 9.22513 0.0440875 9.22581C0.0446365 9.22717 0.0453354 9.2289 0.0461847 9.23098C0.0478833 9.23514 0.0501837 9.24074 0.0530909 9.24773C0.0589049 9.2617 0.0671483 9.28123 0.0778593 9.30595C0.0992775 9.35537 0.130588 9.4256 0.172103 9.51366C0.255086 9.68969 0.379109 9.93754 0.546709 10.2333C0.881233 10.8236 1.3931 11.6115 2.10399 12.4014C3.52661 13.9821 5.77677 15.6 8.99996 15.6V14.4ZM0.599976 9C1.15706 9.22283 1.15698 9.22305 1.1569 9.22323C1.15689 9.22327 1.15682 9.22343 1.15679 9.2235C1.15674 9.22363 1.15672 9.22367 1.15674 9.22363C1.15678 9.22353 1.15696 9.22308 1.15729 9.22228C1.15795 9.22068 1.15918 9.21767 1.161 9.2133C1.16463 9.20457 1.1706 9.19041 1.17893 9.17118C1.19559 9.13272 1.22171 9.07404 1.25753 8.99804C1.32924 8.84594 1.43959 8.62504 1.59074 8.35831C1.89371 7.82365 2.35684 7.1115 2.99594 6.40138C4.27331 4.98208 6.22314 3.6 8.99996 3.6V2.4C5.77677 2.4 3.52661 4.01792 2.10399 5.59862C1.3931 6.3885 0.881233 7.17635 0.546709 7.76669C0.379109 8.06246 0.255086 8.31031 0.172103 8.48634C0.130588 8.5744 0.0992775 8.64463 0.0778593 8.69405C0.0671483 8.71877 0.0589049 8.7383 0.0530909 8.75227C0.0501837 8.75926 0.0478833 8.76486 0.0461847 8.76902C0.0453354 8.7711 0.0446365 8.77283 0.0440875 8.77419C0.0438129 8.77487 0.0435758 8.77546 0.0433761 8.77595C0.0432763 8.7762 0.0431543 8.7765 0.0431045 8.77663C0.0429921 8.77691 0.0428889 8.77717 0.599976 9ZM8.99996 3.6C11.7768 3.6 13.7266 4.98208 15.004 6.40138C15.6431 7.1115 16.1062 7.82365 16.4092 8.35831C16.5604 8.62504 16.6707 8.84594 16.7424 8.99804C16.7782 9.07404 16.8044 9.13272 16.821 9.17118C16.8294 9.19041 16.8353 9.20457 16.839 9.2133C16.8408 9.21767 16.842 9.22068 16.8427 9.22228C16.843 9.22308 16.8432 9.22354 16.8432 9.22363C16.8432 9.22368 16.8432 9.22364 16.8432 9.2235C16.8431 9.22344 16.8431 9.22327 16.8431 9.22324C16.843 9.22305 16.8429 9.22284 17.4 9C17.9571 8.77716 17.957 8.77691 17.9568 8.77663C17.9568 8.7765 17.9567 8.7762 17.9566 8.77595C17.9564 8.77545 17.9561 8.77486 17.9559 8.77418C17.9553 8.77283 17.9546 8.7711 17.9538 8.76902C17.9521 8.76486 17.9498 8.75926 17.9469 8.75227C17.941 8.7383 17.9328 8.71877 17.9221 8.69405C17.9007 8.64462 17.8694 8.5744 17.8278 8.48633C17.7449 8.31031 17.6208 8.06246 17.4532 7.76669C17.1187 7.17635 16.6068 6.3885 15.8959 5.59862C14.4733 4.01792 12.2231 2.4 8.99996 2.4V3.6ZM17.4 9C16.8429 8.77716 16.843 8.77695 16.8431 8.77676C16.8431 8.77673 16.8431 8.77656 16.8432 8.7765C16.8432 8.77637 16.8432 8.77632 16.8432 8.77637C16.8432 8.77646 16.843 8.77692 16.8427 8.77772C16.842 8.77932 16.8408 8.78233 16.839 8.7867C16.8353 8.79543 16.8294 8.80959 16.821 8.82882C16.8044 8.86728 16.7782 8.92596 16.7424 9.00196C16.6707 9.15406 16.5604 9.37496 16.4092 9.64169C16.1062 10.1764 15.6431 10.8885 15.004 11.5986C13.7266 13.0179 11.7768 14.4 8.99996 14.4V15.6C12.2231 15.6 14.4733 13.9821 15.8959 12.4014C16.6068 11.6115 17.1187 10.8236 17.4532 10.2333C17.6208 9.93754 17.7449 9.68969 17.8278 9.51367C17.8694 9.4256 17.9007 9.35538 17.9221 9.30595C17.9328 9.28123 17.941 9.2617 17.9469 9.24773C17.9498 9.24074 17.9521 9.23514 17.9538 9.23098C17.9546 9.2289 17.9553 9.22718 17.9559 9.22582C17.9561 9.22514 17.9564 9.22455 17.9566 9.22405C17.9567 9.2238 17.9568 9.2235 17.9568 9.22337C17.957 9.22309 17.9571 9.22284 17.4 9ZM8.99998 10.8C8.00586 10.8 7.19998 9.99411 7.19998 9H5.99998C5.99998 10.6569 7.34312 12 8.99998 12V10.8ZM10.8 9C10.8 9.99411 9.99409 10.8 8.99998 10.8V12C10.6568 12 12 10.6569 12 9H10.8ZM8.99998 7.2C9.99409 7.2 10.8 8.00589 10.8 9H12C12 7.34315 10.6568 6 8.99998 6V7.2ZM8.99998 6C7.34312 6 5.99998 7.34315 5.99998 9H7.19998C7.19998 8.00589 8.00586 7.2 8.99998 7.2V6Z"
                      fill="#626262"/>
                  </svg>
                  Preview
                </button>
                <button class="btn btn-dark">
                  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M0.600098 0V5.4C0.600098 6.72548 1.67461 7.8 3.0001 7.8C4.32558 7.8 5.4001 6.72548 5.4001 5.4V1.8C5.4001 1.13726 4.86284 0.6 4.2001 0.6C3.53736 0.6 3.0001 1.13726 3.0001 1.8V6M7.2001 0.6H15.0001C15.6628 0.6 16.2001 1.13726 16.2001 1.8V16.2C16.2001 16.8627 15.6628 17.4 15.0001 17.4H3.0001C2.33736 17.4 1.8001 16.8627 1.8001 16.2V9.6M13.2001 5.4H8.4001M13.2001 9H8.4001M13.2001 12.6H4.8001"
                      stroke="white" stroke-width="1.2"/>
                  </svg>
                  Export
                </button>
                <button class="btn btn-toggle" (click)="toggleComments()">
                  {{ isExpanded ? 'Hide Comments' : 'Show Comments' }}
                </button>
                <button
                  type="button"
                  class="btn btn-warning"

                  (click)="scrollToTop()"
                  title="Back to Top"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-arrow-up" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                          d="M8 12a.5.5 0 0 0 .5-.5V4.707l3.147 3.147a.5.5 0 0 0 .707-.708l-4-4-.007-.007a.5.5 0 0 0-.693.014l-4 4a.5.5 0 1 0 .707.708L7.5 4.707V11.5A.5.5 0 0 0 8 12z" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
        <form [formGroup]="generalInfoForm" (ngSubmit)="onSubmit()" (keydown.enter)="$event.preventDefault()">
          <div class="form-body">
            <div id="section1" data-section="section1" (click)="toggleSection('section1')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">1. General Information</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section1'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section1']" class="fb-form" formGroupName="generalInfo">
              <div class="row">
                <div class="col-sm-12 col-md-12">
                  <div class="form-group mb-3">
                    <label>For the provision of* </label>
                    <input type="text" id="paperProvision" class="form-control allow-comments" placeholder="Enter value"
                           formControlName="paperProvision"/>
                    <div class="text-danger"
                         *ngIf="submitted && generalInfo?.get('paperProvision')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <label>CGB Item Ref </label>
                    <input formControlName="cgbItemRefNo" id="cgbItemRefNo" type="text"
                           class="form-control allow-comments" placeholder="Enter Title"/>

                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <label>CGB Circulation Date</label>
                    <div class="date-input position-relative">
                      <input formControlName="cgbCirculationDate" type="date" id="cgbCirculationDate"
                             class="form-control allow-comments" placeholder=""/>
                    </div>

                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>CGB AtM Ref No </label>
                    <input id="cgbAtmRefNo" formControlName="cgbAtmRefNo" type="text"
                           class="form-control allow-comments" placeholder="Enter value"/>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <label>CGB AtM Approval Date</label>
                    <div class="date-input position-relative">
                      <input id="cgbApprovalDate" formControlName="cgbApprovalDate" type="date"
                             class="form-control allow-comments" placeholder=""/>
                    </div>

                  </div>
                </div>
<!--                <div class="col-md-12">-->
<!--                  <div class="form-group mb-3">-->
<!--                    <label>Contract Number </label>-->
<!--                    <input formControlName="contractNo" id="contractNo" type="text" class="form-control allow-comments"-->
<!--                           placeholder="Enter contract number"/>-->
<!--&lt;!&ndash;                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('contactNo')?.hasError('required')">&ndash;&gt;-->
<!--&lt;!&ndash;                      <small class="text-danger">Please enter value.</small>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--                  </div>-->
<!--                </div>-->

                <!-- <div class="col-md-12">
                  <div class="form-group mb-3">
                    <label>Contract Number</label>
                    <div class="date-input position-relative">
                      <input type="text" class="form-control" placeholder="Entre Number" />
                    </div>

                  </div>
                </div> -->
                <div class="col-md-12">
                  <div class="form-group mb-3 allow-comments" id="isChangeinApproachMarket">
                    <label>Have there been changes to the Scope since CGB Approach to Market?</label>
                    <div class="form-radio d-flex gap-3">
                      <div class="radio-box position-relative">
                        <input type="radio" [value]="true" formControlName="isChangeinApproachMarket"
                               name="isChangeinApproachMarket">
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" [value]="false" formControlName="isChangeinApproachMarket"
                               name="isChangeinApproachMarket">
                        <label>No</label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="form-group mb-3">
                    <label>Changes since AtM / Why is this work required?* </label>
                    <app-editor-normal *ngIf="!isRegisterPaper" formControlName="purposeRequired"/>
                    <app-editor *ngIf="isRegisterPaper" [paperId]="paperId ? (paperId + 'purposeRequired') : ''"
                                formControlName="purposeRequired"/>

                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('purposeRequired')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>



                <div class="col-md-12">
                  <div class="form-group mb-3">
                    <label>Contract No </label>
                    <input formControlName="contractNo" type="text" id="contractNo" class="form-control allow-comments"
                           placeholder="Enter Value"/>
                  </div>
                </div>
<!--                <div class="col-md-6">-->
<!--                  <div class="form-group mb-3">-->
<!--                    <label>Vendor ID *</label>-->
<!--                    <select class="form-control allow-comments" id="vendorId" formControlName="vendorId">-->
<!--                      <option [value]="null">Select Status</option>-->
<!--                      <ng-container *ngFor="let item of vendorList?.length ? vendorList : []">-->
<!--                        <option [value]="item.id.toString()">-->
<!--                          {{ item.vendorName }}-->
<!--                        </option>-->
<!--                      </ng-container>-->
<!--                    </select>-->
<!--                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('vendorId')?.hasError('required')">-->
<!--                      <small class="text-danger">Please select value.</small>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->

              </div>
              <div class="row">
                <div class="col-sm-6 col-md-4">
                  <div class="form-group mb-3">
                    <label>PSA/JV*</label>
                    <ng-select2 id="psajv" class="allow-comments" formControlName="psajv" [data]="psaJvOptions"
                                multiple></ng-select2>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('psajv')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6-12 col-md-4">
                  <div class="form-group mb-3">
                    <label>Global CGB*</label>
                    <select class="form-control allow-comments" id="globalCGB" formControlName="globalCGB">
                      <option [value]="''">Select Status</option>
                      <ng-container *ngFor="let item of globalCGBData?.length ? globalCGBData : []">
                        <option [value]="item.id.toString()">
                          {{ item.itemValue }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('globalCGB')?.hasError('required')">
                      <small class="text-danger">Please select value.</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group mb-3">
                    <label>Sourcing Type*</label>
                    <select class="form-control allow-comments" formControlName="sourcingType" id="sourcingType">
                      <option [value]="''">Select Status</option>
                      <ng-container *ngFor="let item of sourcingTypeData?.length ? sourcingTypeData : []">
                        <option [value]="item.id.toString()">
                          {{ item.itemValue }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger"
                         *ngIf="submitted && generalInfo?.get('sourcingType')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group mb-3">
                    <label>Operating Function* </label>
                    <select class="form-control allow-comments" id="operatingFunction"
                            formControlName="operatingFunction">
                      <option [value]="''">Select Status</option>
                      <ng-container *ngFor="let item of operatingFunctionsData?.length ? operatingFunctionsData : []">
                        <option [value]="item.id.toString()">
                          {{ item.itemValue }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger"
                         *ngIf="submitted && generalInfo?.get('operatingFunction')?.hasError('required')">
                      <small class="text-danger">Please select value.</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group mb-3">
                    <label>BLT Member* </label>
                    <select class="form-control allow-comments" formControlName="bltMember" id="bltMember">
                      <option [value]="null">Select Status</option>
                      <ng-container *ngFor="let user of userDetails">
                        <option *ngIf="user.roleName === 'BLT'" [value]="user.id">
                          {{ user.displayName }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('bltMember')?.hasError('required')">
                      <small class="text-danger">Please select value.</small>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group mb-3">
                    <label>Subsector*</label>
                    <select class="form-control allow-comments" formControlName="subSector" id="subSector">
                      <option [value]="''">Select Status</option>
                      <ng-container *ngFor="let item of subsectorData?.length ? subsectorData : []">
                        <option [value]="item.id.toString()">
                          {{ item.itemValue }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('subSector')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>


                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <label>Contract Accountable Manager*</label>


                    <select class="form-control allow-comments" formControlName="camUserId" id="camUserId">
                      <option [value]="null">Select Status</option>
                      <ng-container *ngFor="let user of userDetails">
                        <option *ngIf="user.roleName === 'CAM'" [value]="user.id">
                          {{ user.displayName }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('camUserId')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <label>Procurement SPA*</label>
                    <ng-select2 class="allow-comments" id="procurementSPAUsers" formControlName="procurementSPAUsers"
                                [data]="procurementTagUsers"
                                multiple></ng-select2>
                    <div class="text-danger"
                         *ngIf="submitted && generalInfo?.get('procurementSPAUsers')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <label>VP-1* </label>
                    <select class="form-control allow-comments" formControlName="vP1UserId" id="vP1UserId">
                      <option [value]="null">Select Status</option>
                      <ng-container *ngFor="let user of userDetails">
                        <option *ngIf="user.roleName === 'VP-1'"
                                [value]="user.id">
                          {{ user.displayName }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('vP1UserId')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>

                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>PDM*</label>
                    <select class="form-control allow-comments" formControlName="pdManagerName" id="pdManagerName">
                      <option [value]="null">Select Status</option>
                      <ng-container *ngFor="let user of userDetails">
                        <option *ngIf="user.roleName === 'PDM'" [value]="user.id">
                          {{ user.displayName }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger"
                         *ngIf="submitted && generalInfo?.get('pdManagerName')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>

                <div class="col-sm-6 col-md-12">
                  <div class="form-group mb-3 allow-comments" id="isPHCA">
                    <label>PHCA </label>
                    <div class="form-radio d-flex gap-3">
                      <div class="radio-box position-relative">
                        <input type="radio" formControlName="isPHCA" name="isPHCA" [value]="true">
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" formControlName="isPHCA" name="isPHCA" [value]="false">
                        <label>No</label>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-sm-6 col-md-4">
                  <div class="form-group mb-3">
                    <label>Contract Value (USD) *</label>
                    <input type="number" class="form-control allow-comments" id="totalAwardValueUSD"
                           formControlName="totalAwardValueUSD" placeholder="0.0000"
                           min="0"/>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('totalAwardValueUSD')?.hasError('required')">
                      <small class="text-danger">Please select value.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-2">
                  <div class="form-group mb-3">
                  <label>Original Currency</label>
                  <select class="form-control allow-comments" formControlName="currencyCode" id="currencyCode">
                    <option [value]="''">Select Status</option>
                    <ng-container *ngFor="let item of currenciesData?.length ? currenciesData : []">
                      <option [value]="item.id.toString()">
                        {{ item.itemValue }}
                      </option>
                    </ng-container>
                  </select>
                  </div>
                </div>
                <div class="col-sm-6 col-md-2">
                  <div class="form-group mb-3">
                    <label>Exchange Rate</label>
                    <input type="number" id="exchangeRate" formControlName="exchangeRate"
                           class="form-control allow-comments" placeholder="0.00" readonly/>
                  </div>
                </div>
                <div class="col-sm-6 col-md-4">
                  <div class="form-group mb-3">
                    <label>Contract Value (Original Currency)*</label>
                    <input type="number" formControlName="contractValue" id="contractValue"
                           class="form-control allow-comments" placeholder="0000.0" readonly/>
                  </div>
                </div>

                <div class="col-sm-6 col-md-4">
                  <div class="form-group mb-3">
                    <label>Remuneration Type*</label>
                    <select class="form-control allow-comments" id="remunerationType"
                            formControlName="remunerationType">
                      <option [value]="''">Select Status</option>
                      <ng-container *ngFor="let item of remunerationTypeData?.length ? remunerationTypeData : []">
                        <option [value]="item.id.toString()">
                          {{ item.itemValue }}
                        </option>
                      </ng-container>
                    </select>
                    <div class="text-danger"
                         *ngIf="submitted && generalInfo?.get('remunerationType')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-2">
                  <div class="form-group mb-3">

                    <div class="form-group mb-3 allow-comments" id="isPaymentRequired">
                      <label>Prepayment Required </label>
                      <div class="form-radio d-flex gap-3">
                        <div class="radio-box position-relative">
                          <input type="radio" formControlName="isPaymentRequired" name="isPaymentRequired"
                                 [value]="true">
                          <label>Yes</label>
                        </div>
                        <div class="radio-box position-relative">
                          <input type="radio" formControlName="isPaymentRequired" name="isPaymentRequired"
                                 [value]="false">
                          <label>No</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-3">
                  <div class="form-group mb-3">
                    <label> Prepayment %</label>
                    <div class="input-group">
                      <span class="input-group-text">%</span>
                    <input type="number" oninput="if (this.value > 100) this.value = 100" min="0" max="100"
                           class="form-control allow-comments" placeholder="0.00%" id="prePayPercent"
                           formControlName="prePayPercent"/></div>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('prePayPercent')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-3">
                  <div class="form-group mb-3">
                    <label>Prepayment $</label>
                    <div class="input-group">
                      <span class="input-group-text">$</span>
                    <input type="number" min="0" class="form-control allow-comments" placeholder="0.00"
                           id="prePayAmount"
                           formControlName="prePayAmount"/></div>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('prePayAmount')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>

                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>Workspace</label>
                    <input type="text" formControlName="workspaceNo" id="workspaceNo"
                           class="form-control allow-comments" placeholder="Enter Here"/>
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">

                    <div class="form-group mb-3 allow-comments" id="isSplitAward">
                      <label>Split Award </label>
                      <div class="form-radio d-flex gap-3">
                        <div class="radio-box position-relative">
                          <input type="radio" formControlName="isSplitAward" name="isSplitAward" [value]="true">
                          <label>Yes</label>
                        </div>
                        <div class="radio-box position-relative">
                          <input type="radio" formControlName="isSplitAward" name="isSplitAward" [value]="false">
                          <label>No</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3 allow-comments" id="isLTCC">
                    <label>Long Term Commercial Commitment </label>
                    <div class="form-radio d-flex gap-3">
                      <div class="radio-box position-relative">
                        <input type="radio" name="isLTCC" formControlName="isLTCC" [value]="true">
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" name="isLTCC" formControlName="isLTCC" [value]="false">
                        <label>No</label>
                      </div>
                    </div>

                  </div>
                  <div class="form-group mb-3">
                    <label>LTCC Note</label>
                    <textarea type="text" id="ltccNotes" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="ltccNotes"></textarea>
                    <div class="text-danger" *ngIf="submitted && generalInfo?.get('ltccNotes')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3 allow-comments" id="isGovtReprAligned">
                    <label>Aligned with Government Representative </label>
                    <div class="form-radio d-flex gap-3">
                      <div class="radio-box position-relative">
                        <input type="radio" name="isGovtReprAligned" [value]="true"
                               formControlName="isGovtReprAligned"/>
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" name="isGovtReprAligned" [value]="false"
                               formControlName="isGovtReprAligned"/>
                        <label>No</label>
                      </div>
                    </div>
                  </div>

                  <div class="form-group mb-3">
                    <label>Government Representative Comment</label>
                    <textarea type="text" id="govtReprAlignedComment" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="govtReprAlignedComment"></textarea>
<!--                    <div class="text-danger"-->
<!--                         *ngIf="submitted && generalInfo?.get('govtReprAlignedComment')?.hasError('required')">-->
<!--                      <small class="text-danger">This field is required.</small>-->
<!--                    </div>-->
                  </div>
                </div>

                <!-- <div class="col-md-12">
                  <div class="form-group mb-3">
                    <div class="form-check-list d-flex gap-3 flex-wrap">
                      <div class="form-check-box position-relative">
                        <input type="checkbox" name="lt-check">
                        <label>IFRS16 Impact Compliance</label>
                      </div>
                      <div class="form-check-box position-relative">
                        <input type="checkbox" name="lt-check">
                        <label>GIAAP Compliance Check</label>
                      </div>
                    </div>
                  </div>
                </div> -->

                <div class="form-group mb-3 allow-comments" id="contractSpendCommitment">
                  <label class="mb-3">Framework or Commitment</label>
                  <div class="form-radio d-flex flex-column ps-3">
                    <div class="radio-box position-relative mb-2">
                      <input type="radio" name="contractSpendCommitment"
                             [value]="'The contract is a framework agreement with no spending commitment'"
                             formControlName="contractSpendCommitment">
                      <label>The contract is a framework agreement with no spending commitment</label>
                    </div>
                    <div class="radio-box position-relative">
                      <input type="radio" name="contractSpendCommitment" [value]="'The contract is a commitment'"
                             formControlName="contractSpendCommitment">
                      <label> The contract is a commitment</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="section2" data-section="section2" (click)="toggleSection('section2')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4 class="mb-0">2. Procurement Details</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section2'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section2']" class="fb-form" formGroupName="procurementDetails">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group mb-3">
                    <label>Supplier Award Recommendation *</label>
                    <app-editor-normal *ngIf="!isRegisterPaper" formControlName="supplierAwardRecommendations"/>
                    <app-editor *ngIf="isRegisterPaper"
                                [paperId]="paperId ? (paperId + 'supplierAwardRecommendations') : ''"
                                formControlName="supplierAwardRecommendations"/>
                    <div class="text-danger" *ngIf="submitted && procurementDetailsInfo?.get('supplierAwardRecommendations')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12 col-md-12">
                  <div class="form-group mb-3 allow-comments" id="legalEntitiesAwarded">
                    <div class="overflow-auto">
                      <div class="key-risks-table custom-table">
                        <table class="table">
                          <thead>
                          <tr>
                            <th>Full Name of Legal Entity</th>
                            <th>Local/JV</th>
                            <th>Total Award Value (USD)</th>
                            <th>Original Currency</th>
                            <th>Exchange Rate</th>
                            <th>Contract Value</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Extension Options</th>
                            <th>Action</th>
                          </tr>
                          </thead>
                          <tbody formArrayName="legalEntitiesAwarded">
                          <tr *ngFor="let bid of inviteToBid.controls; let i = index" [formGroupName]="i">
                            <td>
                              <input type="text" class="form-control" formControlName="legalName"
                                     placeholder="Enter full name"/>
                            </td>
                            <td class="text-center align-middle">
                              <input type="checkbox" formControlName="isLocalOrJV"/>
                            </td>
                            <td>
                              <input min="0" type="number" formControlName="totalAwardValueUSD" class="form-control"
                                     placeholder="0.00"/>
                            </td>
                            <td>
                              <select class="form-control" formControlName="currencyCode">
                                <option [value]="''">Select Status</option>
                                <ng-container *ngFor="let item of currenciesData?.length ? currenciesData : []">
                                  <option [value]="item.id.toString()">
                                    {{ item.itemValue }}
                                  </option>
                                </ng-container>
                              </select>
                            </td>
                            <td>
                              <input min="0" type="number" formControlName="exchangeRate" class="form-control"
                                     placeholder="0.00"/>
                            </td>
                            <td>
                              <input min="0" type="number" formControlName="contractValue" class="form-control"
                                     placeholder="0.00"/>
                            </td>
                            <td>
                              <input type="date" formControlName="contractStartDate" class="form-control"
                                     placeholder="Start Date"/>
                            </td>
                            <td>
                              <input formControlName="contractEndDate" type="date" class="form-control"
                                     placeholder="End Date"/>
                            </td>
                            <td>
                              <input formControlName="extensionOption" type="text" class="form-control"
                                     placeholder="Enter Extension"/></td>
                            <td>
                              <div class="krt-action">
                                <button class="btn p-0" type="button" (click)="removeBidRow(i)"
                                        [disabled]="inviteToBid.length <= 1">
                                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M5.41659 2.66536V0.832031H14.5833V2.66536H19.1666V4.4987H17.3333V18.2487C17.3333 18.755 16.9229 19.1654 16.4166 19.1654H3.58325C3.077 19.1654 2.66659 18.755 2.66659 18.2487V4.4987H0.833252V2.66536H5.41659ZM4.49992 4.4987V17.332H15.4999V4.4987H4.49992ZM7.24992 7.2487H9.08325V14.582H7.24992V7.2487ZM10.9166 7.2487H12.7499V14.582H10.9166V7.2487Z"
                                      fill="#EC4747"/>
                                  </svg>
                                </button>
                              </div>
                            </td>
                          </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>

                    <div class="add-row-btn-div">
                      <button class="btn p-0" type="button" (click)="addBidRow()">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M9 3.75V14.25M3.75 9H14.25" stroke="#582AA2" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"/>
                        </svg>
                        Add New Row
                      </button>
                    </div>

                    <div class="text-danger" *ngIf="submitted && inviteToBid.invalid">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>


              </div>
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group mb-3 allow-comments" id="isConflictOfInterest">
                    <label class="mb-3">Conflict of Interest
                      <svg width="17" height="16" viewBox="0 0 17 16" fill="none" class="pointer"
                           [ngbTooltip]="'Conflict of Interest with SOCAR, SOCAR Affiliated entities (JVs, Alliances) or other'" placement="top" container="body"
                           xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                          fill="#252525"/>

                      </svg>
                    </label>
                    <div class="form-radio d-flex gap-3">
                      <div class="radio-box position-relative">
                        <input type="radio" name="isConflictOfInterest" formControlName="isConflictOfInterest"
                               [value]="true">
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" name="isConflictOfInterest" formControlName="isConflictOfInterest"
                               [value]="false">
                        <label>No</label>
                      </div>
                    </div>
                  </div>
                  <div class="form-group mb-3">
                    <label>If "Yes" Add comments</label>
                    <textarea type="text" id="conflictOfInterestComment" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="conflictOfInterestComment"></textarea>
                    <div class="text-danger"
                         *ngIf="submitted && procurementDetailsInfo?.get('conflictOfInterestComment')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group mb-3 allow-comments" id="isRetrospectiveApproval">
                    <label class="mb-3">Retrospective Approval</label>
                    <div class="form-radio d-flex gap-3">
                      <div class="radio-box position-relative">
                        <input type="radio" name="isRetrospectiveApproval" formControlName="isRetrospectiveApproval"
                               [value]="true">
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" name="isRetrospectiveApproval" formControlName="isRetrospectiveApproval"
                               [value]="false">
                        <label>No</label>
                      </div>
                    </div>
                  </div>
                  <div class="form-group mb-3">
                    <label>Reason (if Yes)</label>
                    <textarea type="text" id="retrospectiveApprovalReason" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="retrospectiveApprovalReason"></textarea>
                    <div class="text-danger"
                         *ngIf="submitted && procurementDetailsInfo?.get('retrospectiveApprovalReason')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12">

                  <div class="form-group mb-3">
                    <label>National Content</label>
                    <app-editor-normal *ngIf="!isRegisterPaper" formControlName="nationalContent"/>
                    <app-editor *ngIf="isRegisterPaper" [paperId]="paperId ? (paperId + 'nationalContent') : ''"
                                formControlName="nationalContent"/>
                  </div>
                </div>
              </div>
            </div>

            <div id="section3" data-section="section3" (click)="toggleSection('section3')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">3. CDD (Counterparty Due Diligence)</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section3'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section3']" class="fb-form" formGroupName="ccd">
              <div class="row">
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>High Risk Contract</label>
                    <div class="form-radio d-flex gap-3 allow-comments" id="isHighRiskContract">
                      <div class="radio-box position-relative">
                        <input type="radio" name="isHighRiskContract" formControlName="isHighRiskContract"
                               [value]="true">
                        <label>Yes</label>
                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" name="isHighRiskContract" formControlName="isHighRiskContract"
                               [value]="false">
                        <label>No</label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>CDD Completed / Refreshed</label>
                    <div class="date-input position-relative">
                      <input type="date" formControlName="cddCompleted" id="cddCompleted"
                             class="form-control allow-comments" placeholder=""/>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12">

                  <div class="form-group mb-3">
                    <label>Explanation for High Risk</label>
                    <textarea type="text" id="highRiskExplanation" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="highRiskExplanation"></textarea>
                  </div>
                </div>
                <div class="col-sm-6">

                  <div class="form-group mb-3">
                    <label>Flags raised during initial CDD / CDD refresh</label>
                    <textarea type="text" id="flagRaisedCDD" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="flagRaisedCDD"></textarea>
                  </div>
                </div>
                <div class="col-sm-6">

                  <div class="form-group mb-3">
                    <label>Additional CDD Controls for High Risk Contracts</label>
                    <textarea type="text" id="additionalCDD" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="additionalCDD"></textarea>
                  </div>
                </div>
              </div>
            </div>

            <div id="section4" data-section="section4" (click)="toggleSection('section4')"  class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">4. Evaluation Summary</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section4'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <ng-container *ngIf="sectionVisibility['section4']">
            <div class="fb-form" formGroupName="evaluationSummary">
              <h6 class="mb-3"><b>Technical Evaluation</b></h6>
              <div class="row">
                <div class="col-12 col-md-6">
                  <div class="d-flex align-items-center mb-3">
                    <label for="invitedBidders" class="me-2 mb-0" style="width: 50%;">Number of Invited Bidders:</label>
                    <input type="number" min="0" id="invitedBidders" class="form-control allow-comments"
                           formControlName="invitedBidders" placeholder="123" style="width: 50%;" />
                  </div>
                </div>

                <div class="col-12 col-md-6">
                  <div class="d-flex align-items-center mb-3">
                    <label for="submittedBids" class="me-2 mb-0" style="width: 50%;">Number of Submitted Bids:</label>
                    <input type="number" min="0" id="submittedBids" class="form-control allow-comments"
                           formControlName="submittedBids" placeholder="123" style="width: 50%;" />
                  </div>
                </div>
              </div>

              <h6 class="mb-3"><b>Supplier Technical Scores</b></h6>
              <div class="row allow-comments" id="supplier_technical_scores">
                <div class="col-sm-12 col-md-12">
                  <div class="form-group mb-3">
                    <div class="overflow-auto">
                      <div class="key-risks-table custom-table">
                        <table class="table">
                          <thead>
                          <tr>
                            <th>Full Legal Entity Name</th>
                            <th>Score Threshold (%)</th>
                            <th>Technical Go/ No Go</th>
                            <th>Technical Score (%)</th>
                            <th>Results of HSSE</th>
                            <th>Commentary</th>
                            <th>Action</th>
                          </tr>
                          </thead>
                          <tbody formArrayName="supplierTechnical">
                          <tr *ngFor="let risk of supplierTechnical.controls; let i = index" [formGroupName]="i">
                            <td>
                              <input type="text" class="form-control border-0 p-0 shadow-none"
                                     placeholder="Enter here" formControlName="legalName"/>
                            </td>
                            <td>
                              <input type="number" oninput="if (this.value > 100) this.value = 100" min="0" max="100"
                                     class="form-control border-0 p-0 shadow-none"
                                     placeholder="Enter here" formControlName="thresholdPercent"/>
                            </td>
                            <td>
                              <div class="form-group">
                                <select id="isTechnical" class="form-control" formControlName="isTechnical">
                                  <option [ngValue]="true">Yes</option>
                                  <option [ngValue]="false">No</option>
                                </select>
                              </div>
                            </td>
                            <td>
                              <input type="number" oninput="if (this.value > 100) this.value = 100" min="0" max="100"
                                     class="form-control border-0 p-0 shadow-none"
                                     placeholder="Enter here" formControlName="technicalScorePercent"/>
                            </td>
                            <td>
                              <input type="text" class="form-control border-0 p-0 shadow-none"
                                     placeholder="Enter here" formControlName="resultOfHSSE"/>
                            </td>
                            <td>
                              <input type="text" class="form-control border-0 p-0 shadow-none"
                                     placeholder="Enter here" formControlName="commentary"/>
                            </td>
                            <td>
                              <div class="krt-action">
                                <button type="button" class="btn btn-outline-danger mx-auto"
                                        (click)="removeSupplierTechnical(i)"
                                >
                                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M5.41659 2.66536V0.832031H14.5833V2.66536H19.1666V4.4987H17.3333V18.2487C17.3333 18.755 16.9229 19.1654 16.4166 19.1654H3.58325C3.077 19.1654 2.66659 18.755 2.66659 18.2487V4.4987H0.833252V2.66536H5.41659ZM4.49992 4.4987V17.332H15.4999V4.4987H4.49992ZM7.24992 7.2487H9.08325V14.582H7.24992V7.2487ZM10.9166 7.2487H12.7499V14.582H10.9166V7.2487Z"
                                      fill="#EC4747"/>
                                  </svg>
                                </button>
                              </div>
                            </td>
                          </tr>
                          </tbody>
                        </table>

                      </div>

                    </div>
                    <div class="add-row-btn-div">
                      <button class="btn p-0" type="button" (click)="addSupplierTechnicalnRow()">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M9 3.75V14.25M3.75 9H14.25" stroke="#582AA2" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"/>
                        </svg>
                        Add New Row
                      </button>
                    </div>

                               <div class="text-danger" *ngIf="submitted && supplierTechnical.invalid">
                                 <small class="text-danger">This field is required.</small>
                                </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>Lessons learned from previous contract</label>
                    <textarea type="text" id="previousContractLearning" class="form-control allow-comments"
                              placeholder="Write Here"
                              formControlName="previousContractLearning"></textarea>
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3">
                    <label>Performance Improvements embedded</label>
                    <textarea formControlName="performanceImprovements" type="text" id="performanceImprovements"
                           class="form-control allow-comments"
                           placeholder="Enter Here"></textarea>
                  </div>
                </div>
              </div>
              <h6 class="mb-3"><b>Commercial Evaluation</b></h6>

              <div class="col-sm-12 col-md-12 allow-comments" id="commercial_evaluation">
                <div class="form-group mb-3">
                  <div class="overflow-auto">
                    <div class="key-risks-table custom-table">
                      <table class="table">
                        <thead>
                        <tr>
                          <th>Full Legal Entity Name</th>
                          <th>Total Value ($)</th>
                          <th>Action</th>
                        </tr>
                        </thead>
                        <tbody formArrayName="commericalEvaluation">
                        <tr *ngFor="let risk of commericalEvaluation.controls; let i = index" [formGroupName]="i">
                          <td>
                            <input type="text" class="form-control border-0 p-0 shadow-none"
                                   placeholder="Enter here" formControlName="legalName"/>
                          </td>
                          <td>
                            <input type="number" min="0" class="form-control border-0 p-0 shadow-none"
                                   placeholder="Enter here" formControlName="totalValue"/>
                          </td>
                          <td>
                            <div class="krt-action">
                              <button type="button" class="btn btn-outline-danger mx-auto"
                                      (click)="removeCommericalEvaluation(i)"
                                      [disabled]="commericalEvaluation.length <= 1">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M5.41659 2.66536V0.832031H14.5833V2.66536H19.1666V4.4987H17.3333V18.2487C17.3333 18.755 16.9229 19.1654 16.4166 19.1654H3.58325C3.077 19.1654 2.66659 18.755 2.66659 18.2487V4.4987H0.833252V2.66536H5.41659ZM4.49992 4.4987V17.332H15.4999V4.4987H4.49992ZM7.24992 7.2487H9.08325V14.582H7.24992V7.2487ZM10.9166 7.2487H12.7499V14.582H10.9166V7.2487Z"
                                    fill="#EC4747"/>
                                </svg>
                              </button>
                            </div>
                          </td>
                        </tr>
                        </tbody>
                      </table>

                    </div>

                  </div>
                  <div class="add-row-btn-div">
                    <button class="btn p-0" type="button" (click)="addCommericalEvaluationRow()">
                      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 3.75V14.25M3.75 9H14.25" stroke="#582AA2" stroke-width="2" stroke-linecap="round"
                              stroke-linejoin="round"/>
                      </svg>
                      Add New Row
                    </button>
                  </div>

                  <div class="text-danger" *ngIf="submitted && commericalEvaluation.invalid">
                    <small class="text-danger">This field is required.</small>
                  </div>
                </div>
              </div>

              <div class="col-sm-12 col-md-12">
                <div class="form-group mb-3">
                  <label>Previous supplier(s) and spend</label>
                  <textarea type="text" id="previousSupplierSpendInfo" class="form-control allow-comments"
                            placeholder="Write Description"
                            formControlName="previousSupplierSpendInfo"></textarea>
                </div>
              </div>
              <div class="col-sm-12 col-md-12"  *ngIf="isShowBenchmarking">
                <div class="form-group mb-3">
                  <label>Benchmarking for Single/Sole Awards</label>
                  <textarea type="text" id="benchMarking" class="form-control allow-comments"
                            placeholder="Write Description"
                            formControlName="benchMarking"></textarea>
                </div>
              </div>
            </div>
            <div class="fb-form py-0" formGroupName="additionalDetails">
              <div class="row">
                <div class="col-sm-12 col-md-12">
                  <div class="form-group mb-3">
                    <label>Contractual Controls for Key Cost Drivers</label>
                    <textarea type="text" id="contractualControls" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="contractualControls"></textarea>
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="form-group mb-3 allow-comments" id="contractCurrencyLinktoBaseCost">
                    <label>Contract Currency Linked to Base Cost</label>
                    <div class="form-radio d-flex gap-3 flex-wrap">
                      <div class="radio-box position-relative">
                        <input type="radio" name="contractCurrencyLinktoBaseCost"
                               formControlName="contractCurrencyLinktoBaseCost"
                               [value]="true"> <label>Yes</label>

                      </div>
                      <div class="radio-box position-relative">
                        <input type="radio" name="contractCurrencyLinktoBaseCost"
                               formControlName="contractCurrencyLinktoBaseCost"
                               [value]="false">
                        <label>No</label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12 col-md-12">
                  <div class="form-group mb-3">
                    <label>Explanation (if "No")</label>
                    <textarea type="text" id="explanationsforBaseCost" class="form-control allow-comments"
                              placeholder="Write Description"
                              formControlName="explanationsforBaseCost"></textarea>
                    <div class="text-danger" *ngIf="submitted && additionalDetailsInfo?.get('explanationsforBaseCost')?.hasError('required')">
                      <small class="text-danger">This field is required.</small>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-12 col-md-12">
                <div class="form-group mb-3 allow-comments" id="riskMitigation">
                  <label>Key Risks and Mitigations</label>
                  <div class="overflow-auto">
                    <div class="key-risks-table table-set-width custom-table">
                      <table class="table">
                        <thead>
                        <tr>
                          <th>ID</th>
                          <th>Risks</th>
                          <th>Mitigations</th>
                          <th>Action</th>
                        </tr>
                        </thead>
                        <tbody formArrayName="riskMitigation">
                        <tr *ngFor="let risk of riskMitigation.controls; let i = index" [formGroupName]="i">
                          <td class="align-middle text-start">{{ generateId(i) }}</td>
                          <td>
                            <textarea rows="3" type="text" class="form-control"
                                      placeholder="Enter here" formControlName="risks"></textarea>
                          </td>
                          <td>
                            <textarea rows="3" type="text" class="form-control"
                                   placeholder="Enter here" formControlName="mitigations"></textarea>
                          </td>
                          <td class="align-middle text-start">
                            <div class="krt-action">
                              <button type="button" class="btn btn-outline-danger mx-auto" (click)="removeRow(i)"
                                      [disabled]="riskMitigation.length <= 1">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                  <path
                                    d="M5.41659 2.66536V0.832031H14.5833V2.66536H19.1666V4.4987H17.3333V18.2487C17.3333 18.755 16.9229 19.1654 16.4166 19.1654H3.58325C3.077 19.1654 2.66659 18.755 2.66659 18.2487V4.4987H0.833252V2.66536H5.41659ZM4.49992 4.4987V17.332H15.4999V4.4987H4.49992ZM7.24992 7.2487H9.08325V14.582H7.24992V7.2487ZM10.9166 7.2487H12.7499V14.582H10.9166V7.2487Z"
                                    fill="#EC4747"/>
                                </svg>
                              </button>
                            </div>
                          </td>
                        </tr>
                        </tbody>
                      </table>

                    </div>

                  </div>
                  <div class="add-row-btn-div">
                    <button class="btn p-0" type="button" (click)="addRow()">
                      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 3.75V14.25M3.75 9H14.25" stroke="#582AA2" stroke-width="2" stroke-linecap="round"
                              stroke-linejoin="round"/>
                      </svg>
                      Add New Row
                    </button>
                  </div>

                  <div class="text-danger" *ngIf="submitted && riskMitigation.invalid">
                    <small class="text-danger">This field is required.</small>
                  </div>
                </div>
              </div>
            </div>
            </ng-container>

            <div id="section5" data-section="section5" (click)="toggleSection('section5')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">5. Value Delivery</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section5'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section5']" class="fb-form" formGroupName="valueDelivery">
              <div class="mb-1">
                <label class="medium mb-2">Cost Reduction</label>
                <div class="row">
                  <div class="col-sm-9 col-md-5">
                    <div class="form-group mb-3">
                      <div class="input-group">
                        <span class="input-group-text">$</span>
                      <input id="costReductionValue" type="number" min="0" class="form-control allow-comments"
                             placeholder="Value"
                             formControlName="costReductionValue"/></div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-md-2">
                    <div class="form-group mb-3">
                      <div class="input-group">
                        <span class="input-group-text">%</span>
                      <input id="costReductionPercent" type="number" oninput="if (this.value > 100) this.value = 100"
                             min="0" max="100"
                             class="form-control allow-comments" placeholder="%"
                             formControlName="costReductionPercent"/></div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-5">
                    <div class="form-group mb-3">
                      <input id="costReductionRemarks" type="text" class="form-control allow-comments"
                             placeholder="Remark"
                             formControlName="costReductionRemarks"/>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mb-1">
                <label class="medium mb-2">Operating Efficiency/ Revenue Enhancement</label>
                <div class="row">
                  <div class="col-sm-9 col-md-5">
                    <div class="form-group mb-3">
                      <div class="input-group">
                        <span class="input-group-text">$</span>
                      <input id="operatingEfficiencyValue" type="number" min="0" class="form-control allow-comments"
                             placeholder="Value"
                             formControlName="operatingEfficiencyValue"/></div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-md-2">
                    <div class="form-group mb-3">
                      <div class="input-group">
                        <span class="input-group-text">%</span>
                      <input id="operatingEfficiencyPercent" type="number"
                             oninput="if (this.value > 100) this.value = 100" min="0" max="100"
                             class="form-control allow-comments" placeholder="%"
                             formControlName="operatingEfficiencyPercent"/></div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-5">
                    <div class="form-group mb-3">
                      <input id="operatingEfficiencyRemarks" type="text" class="form-control allow-comments"
                             placeholder="Remark"
                             formControlName="operatingEfficiencyRemarks"/>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mb-1">
                <label class="medium mb-2">Cost Avoidance</label>
                <div class="row">
                  <div class="col-sm-9 col-md-5">
                    <div class="form-group mb-3">
                      <div class="input-group">
                        <span class="input-group-text">$</span>
                      <input id="costAvoidanceValue" type="number" min="0" class="form-control allow-comments"
                             placeholder="Value"
                             formControlName="costAvoidanceValue"/></div>
                    </div>
                  </div>
                  <div class="col-sm-3 col-md-2">
                    <div class="form-group mb-3">
                      <div class="input-group">
                        <span class="input-group-text">%</span>
                      <input id="costAvoidancePercent" type="number" oninput="if (this.value > 100) this.value = 100"
                             min="0" max="100"
                             class="form-control allow-comments" placeholder="%"
                             formControlName="costAvoidancePercent"/></div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-5">
                    <div class="form-group mb-3">
                      <input id="costAvoidanceRemarks" type="text" class="form-control allow-comments"
                             placeholder="Remark"
                             formControlName="costAvoidanceRemarks"/>
                    </div>
                  </div>
                </div>
              </div>

              <small class="text-danger"
                     *ngIf="submitted && generalInfoForm.get('valueDelivery')?.hasError('costReduction')">
                Please fill all Cost Reduction fields if any one is provided.
              </small>
              <small class="text-danger"
                     *ngIf="submitted && generalInfoForm.get('valueDelivery')?.hasError('operatingEfficiency')">
                Please fill all Operating Efficiency fields if any one is provided.
              </small>
              <small class="text-danger"
                     *ngIf="submitted && generalInfoForm.get('valueDelivery')?.hasError('costAvoidance')">
                Please fill all Cost Avoidance fields if any one is provided.
              </small>
            </div>

            <div id="section6" data-section="section6" (click)="toggleSection('section6')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">6. Cost Allocation and JV Approval</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section6'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section6']" class="fb-form allow-comments" formGroupName="costAllocation" id="costAllocation">
              <div class="overflow-auto">
              <div class="cost-table-div custom-table table-responsive">
                <table class="table table-bordered">
                  <thead>
                  <tr>
                    <th>PSA</th>
                    <th>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="isACG" type="checkbox">
                          <label>ACG</label>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="isShah" type="checkbox">
                          <label>Shah
                            Deniz</label>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="isSCP" type="checkbox">
                          <label>SCP</label>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="isBTC" type="checkbox">
                          <label>BTC</label>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="isAsiman" type="checkbox">
                          <label>Sh-Asiman</label>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="isBPGroup" type="checkbox">
                          <label>BP
                            Group</label>
                        </div>
                      </div>
                    </th>
                    <th>
                      <b>Total</b>
                    </th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <td><b>As%</b></td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 " min="0"
                             max="100" type="number" placeholder="%" formControlName="percentage_isACG"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 "
                             placeholder="%" min="0" max="100" type="number" formControlName="percentage_isShah"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 "
                             placeholder="%" min="0" max="100" type="number" formControlName="percentage_isSCP"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 "
                             placeholder="%" min="0" max="100" type="number" formControlName="percentage_isBTC"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 "
                             placeholder="%" min="0" max="100" type="number" formControlName="percentage_isAsiman"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 "
                             placeholder="%" min="0" max="100" type="number" formControlName="percentage_isBPGroup"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">%</span>
                      <input oninput="if (this.value > 100) this.value = 100" class="form-control p-1 "
                             placeholder="%" min="0" max="100" type="number" formControlName="totalPercentage"></div>
                    </td>
                  </tr>

                  <tr>
                    <td><b>By value $</b></td>
                    <td>
                      <div class="input-group">
                        <span class="input-group-text">$</span>
                        <input readonly formControlName="value_isACG" min="0" type="number"
                               class="form-control p-1" placeholder="0.00"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input readonly formControlName="value_isShah" min="0" type="number"
                             class="form-control p-1" placeholder="0.00"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input readonly formControlName="value_isSCP" min="0" type="number"
                             class="form-control p-1" placeholder="0.00"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input readonly formControlName="value_isBTC" min="0" type="number"
                             class="form-control p-1" placeholder="0.00"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input readonly formControlName="value_isAsiman" min="0" type="number"
                             class="form-control p-1" placeholder="0.00"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input readonly formControlName="value_isBPGroup" min="0" type="number"
                             class="form-control p-1" placeholder="0.00"></div>
                    </td>
                    <td>  <div class="input-group">
                      <span class="input-group-text">$</span>
                      <input readonly formControlName="totalValue" min="0" type="number"
                             class="form-control p-1" placeholder="0.00"></div>
                    </td>

                  </tr>

                  <tr>
                    <td><b>Contract Committee</b></td>
                    <td>

                    </td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="contractCommittee_SDCC" type="checkbox">
                          <label>SDCC</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="contractCommittee_SCP_Co_CC" type="checkbox">
                          <label>SCP Co CC</label>
                        </div>
                        <div class="form-check-box position-relative">
                          <input formControlName="contractCommittee_SCP_Co_CCInfoNote" type="checkbox">
                          <label>SCP Co CC</label>
                        </div>
                        <div class="info-label position-relative">
                          <label>info note</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="contractCommittee_BTC_CC" type="checkbox">
                          <label>BTC CC</label>
                        </div>
                        <div class="form-check-box position-relative">
                          <input formControlName="contractCommittee_BTC_CCInfoNote" type="checkbox">
                          <label>BTC CC </label>
                        </div>
                        <div class="info-label position-relative">
                          <label>info note</label>
                        </div>
                      </div>
                    </td>
                    <td>
                    </td>
                    <td>
                    </td>
                    <td>
                    </td>
                  </tr>

                  <tr>
                    <td><b>Co-
                      Venturers</b></td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="coVenturers_CMC" type="checkbox">
                          <label>CMC</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="coVenturers_SDMC" type="checkbox">
                          <label>SDMC</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="coVenturers_SCP" type="checkbox">
                          <label>SCP</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="coVenturers_SCP_Board" type="checkbox">
                          <label>SCP Board</label>
                        </div>
                      </div>
                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                  </tr>

                  <tr>
                    <td><b>Steering
                      Committee</b></td>
                    <td>
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input formControlName="steeringCommittee_SC" type="checkbox">
                          <label>SCP Board</label>
                        </div>
                      </div>
                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>

                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
              </div>
            </div>

            <div id="section7" data-section="section7" (click)="toggleSection('section7')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">8. Cost Sharing Methodology</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section7'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section7']" class="fb-form allow-comments" formGroupName="costSharing" id="costSharing">
              <div class="cost-table-div custom-table table-responsive">
                <table class="table table-bordered">

                  <tbody>
                  <tr>
                    <th width="15%">
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input type="checkbox" formControlName="isCapex">
                          <label><b class="text-dark">Capex</b></label>
                        </div>
                      </div>
                    </th>
                    <td>
                      <div class="form-radio-custom-width form-radio">
                        <div class="row">
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="capexMethodology" value="1a" formControlName="capexMethodology">
                              <label>1a
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="capexMethodology" value="1b" formControlName="capexMethodology">
                              <label>1b
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="capexMethodology" value="1c" formControlName="capexMethodology">
                              <label>1c
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="capexMethodology" value="1d" formControlName="capexMethodology">
                              <label>1d
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="capexMethodology" value="1e" formControlName="capexMethodology">
                              <label>1e
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                        </div>

                      </div>
                    </td>
                  </tr>

                  <tr>
                    <th width="15%">
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input type="checkbox" formControlName="isFixOpex">
                          <label><b class="text-dark">Fixed Opex</b></label>
                        </div>
                      </div>
                    </th>
                    <td>
                      <div class="form-radio-custom-width form-radio">
                        <div class="row">
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="fixOpexMethodology" value="2a"
                                     formControlName="fixOpexMethodology">
                              <label>2a
                                <button   type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="fixOpexMethodology" value="2b"
                                     formControlName="fixOpexMethodology">
                              <label>2b
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="fixOpexMethodology" value="2c"
                                     formControlName="fixOpexMethodology">
                              <label>2c
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="fixOpexMethodology" value="2d"
                                     formControlName="fixOpexMethodology">
                              <label>2d
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </td>

                  </tr>
                  <tr>
                    <th width="15%">
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input type="checkbox" formControlName="isVariableOpex">
                          <label><b class="text-dark">Variable Opex</b></label>
                        </div>
                      </div>
                    </th>
                    <td>
                      <div class="form-radio-custom-width form-radio">
                        <div class="row">
                          <div class="col">

                          </div>
                          <div class="col">

                          </div>
                          <div class="col">

                          </div>
                          <div class="col">

                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="variableOpexMethodology" value="2d"
                                     formControlName="variableOpexMethodology">
                              <label>2d
                                <button class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </td>

                  </tr>

                  <tr>
                    <th width="15%">
                      <div class="form-check-list d-flex gap-3 flex-wrap">
                        <div class="form-check-box position-relative">
                          <input type="checkbox" formControlName="isInventoryItems">
                          <label><b class="text-dark">Inventory Items</b></label>
                        </div>
                      </div>
                    </th>
                    <td>
                      <div class="form-radio-custom-width form-radio">
                        <div class="row">

                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="inventoryItemsMethodology" value="BP Warehouse"
                                     formControlName="inventoryItemsMethodology">
                              <label>Yes
                                <button  type="button" class="btn p-0 pointer" [ngbTooltip]="'BP Warehouse'" placement="top"
                                        container="body">
                                  <!-- Tooltip on the button -->
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none" class="pointer"
                                       [ngbTooltip]="'BP Warehouse'" placement="top" container="body"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="inventoryItemsMethodology" value="VMI"
                                     formControlName="inventoryItemsMethodology">
                              <label>Yes
                                <button  type="button" class="btn p-0 pointer" [ngbTooltip]="'VMI'" placement="top"
                                        container="body">
                                  <!-- Tooltip on the button -->
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none" class="pointer"
                                       [ngbTooltip]="'VMI'" placement="top" container="body"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>
                          <div class="col">
                            <div class="radio-box position-relative">
                              <input type="radio" name="inventoryItemsMethodology" value="No"
                                     formControlName="inventoryItemsMethodology">
                              <label>No
                                <button  type="button" class="btn p-0">
                                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                    <path
                                      d="M8.69999 11.332C8.88888 11.332 9.04733 11.268 9.17533 11.14C9.30333 11.012 9.3671 10.8538 9.36666 10.6654V7.9987C9.36666 7.80981 9.30266 7.65159 9.17466 7.52403C9.04666 7.39648 8.88844 7.33248 8.69999 7.33203C8.51155 7.33159 8.35333 7.39559 8.22533 7.52403C8.09733 7.65248 8.03333 7.8107 8.03333 7.9987V10.6654C8.03333 10.8543 8.09733 11.0127 8.22533 11.1407C8.35333 11.2687 8.51155 11.3325 8.69999 11.332ZM8.69999 5.9987C8.88888 5.9987 9.04733 5.9347 9.17533 5.8067C9.30333 5.6787 9.3671 5.52048 9.36666 5.33203C9.36621 5.14359 9.30222 4.98536 9.17466 4.85736C9.0471 4.72936 8.88888 4.66536 8.69999 4.66536C8.5111 4.66536 8.35288 4.72936 8.22533 4.85736C8.09777 4.98536 8.03377 5.14359 8.03333 5.33203C8.03288 5.52048 8.09688 5.67892 8.22533 5.80736C8.35377 5.93581 8.51199 5.99959 8.69999 5.9987ZM8.69999 14.6654C7.77777 14.6654 6.9111 14.4903 6.09999 14.14C5.28888 13.7898 4.58333 13.3149 3.98333 12.7154C3.38333 12.1158 2.90844 11.4103 2.55866 10.5987C2.20888 9.78714 2.03377 8.92048 2.03333 7.9987C2.03288 7.07692 2.20799 6.21025 2.55866 5.3987C2.90933 4.58714 3.38421 3.88159 3.98333 3.28203C4.58244 2.68248 5.28799 2.20759 6.09999 1.85736C6.91199 1.50714 7.77866 1.33203 8.69999 1.33203C9.62133 1.33203 10.488 1.50714 11.3 1.85736C12.112 2.20759 12.8175 2.68248 13.4167 3.28203C14.0158 3.88159 14.4909 4.58714 14.842 5.3987C15.1931 6.21025 15.368 7.07692 15.3667 7.9987C15.3653 8.92048 15.1902 9.78714 14.8413 10.5987C14.4924 11.4103 14.0175 12.1158 13.4167 12.7154C12.8158 13.3149 12.1102 13.79 11.3 14.1407C10.4898 14.4914 9.6231 14.6663 8.69999 14.6654Z"
                                      fill="#252525"/>
                                  </svg>

                                </button>
                              </label>
                            </div>
                          </div>

                        </div>
                      </div>
                    </td>

                  </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div id="section8" data-section="section8" (click)="toggleSection('section8')" class="fb-title-div cursor-pointer ft-bg2 d-flex justify-content-between align-items-center px-3">
              <h4  class="mb-0">8. Consultation</h4>
              <span class="btn collapse-btn">
              <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path [attr.d]="sectionVisibility['section8'] ? 'M19 9l-7 7-7-7' : 'M9 5l7 7-7 7'" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
              </svg>
            </span>
            </div>
            <div *ngIf="sectionVisibility['section8']" class="form-group mb-3 allow-comments fb-form" id="consultation">
              <div class="overflow-auto">
                <div class="key-risks-table custom-table">
                  <table class="table">
                    <thead>
                    <tr>
                      <th>PSA</th>
                      <th>Technically Correct</th>
                      <th>Budget Statement</th>
                      <th>JV Review</th>
                      <th>Action</th>
                    </tr>
                    </thead>
                    <tbody formArrayName="consultation">
                    <tr *ngFor="let risk of consultationRows.controls; let i = index" [formGroupName]="i">
                      <td><select class="form-control" formControlName="psa">
                        <option [value]="''">Select Value</option>
                        <option value="ACG">ACG</option>
                        <option value="Shah Deniz">Shah Deniz</option>
                        <option value="SCP">SCP</option>
                        <option value="BTC">BTC</option>
                        <option value="Sh-Asiman">Sh-Asiman</option>
                        <option value="BP Group">BP Group</option>
                      </select></td>
                      <td>
                        <select aria-readonly="true" [disabled]="true" class="form-control"
                                formControlName="technicalCorrect">
                          <option [value]="null">Select Status</option>
                          <ng-container *ngFor="let user of userDetails">
                            <option *ngIf="user.roleName === 'CAM'" [ngValue]="user.id">
                              {{ user.displayName }}
                            </option>
                          </ng-container>
                        </select>
                      </td>
                      <td>
                        <select class="form-control" formControlName="budgetStatement">
                          <option [ngValue]="null">Select Value</option>
                          <ng-container *ngFor="let user of userDetails">
                            <option *ngIf="user.roleName === 'Financial Tag'" [ngValue]="user.id">
                              {{ user.displayName }}
                            </option>
                          </ng-container>
                        </select>
                      </td>
                      <td>
                        <select class="form-control" formControlName="jvReview">
                          <option [value]="null">Select Value</option>
                          <ng-container *ngFor="let user of userDetails">
                            <option *ngIf="user.roleName === 'JV Admin'" [ngValue]="user.id">
                              {{ user.displayName }}
                            </option>
                          </ng-container>
                        </select>
                      </td>
                      <td>
                        <div class="krt-action">
                          <button class="btn p-0" type="button" (click)="removeConsultationRow(i)">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                              <path
                                d="M5.41659 2.66536V0.832031H14.5833V2.66536H19.1666V4.4987H17.3333V18.2487C17.3333 18.755 16.9229 19.1654 16.4166 19.1654H3.58325C3.077 19.1654 2.66659 18.755 2.66659 18.2487V4.4987H0.833252V2.66536H5.41659ZM4.49992 4.4987V17.332H15.4999V4.4987H4.49992ZM7.24992 7.2487H9.08325V14.582H7.24992V7.2487ZM10.9166 7.2487H12.7499V14.582H10.9166V7.2487Z"
                                fill="#EC4747"/>
                            </svg>
                          </button>
                        </div>
                      </td>
                    </tr>
                    </tbody>
                  </table>

                </div>

              </div>
              <div class="add-row-btn-div">
                <button class="btn p-0" type="button" (click)="addConsultationRow()">
                  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 3.75V14.25M3.75 9H14.25" stroke="#582AA2" stroke-width="2" stroke-linecap="round"
                          stroke-linejoin="round"/>
                  </svg>
                  Add New Row
                </button>
              </div>

              <div class="text-danger" *ngIf="submitted && consultationRows.invalid">
                <small class="text-danger">This field is required.</small>
              </div>
            </div>

            <div class="fb-form pt-3">
              <div class="ff-btn-list d-flex gap-3 justify-content-end">
                <ng-container *ngIf="!paperId || (paperId && isCopy)">
                  <button class="btn  btn-outline-dark" type="submit" (click)="setPaperStatus('Draft', false)">
                    Draft
                  </button>
                  <button class="btn btn-dark" type="submit" (click)="setPaperStatus('Registered', false)">
                    Register
                  </button>
                </ng-container>
                <ng-container *ngIf="paperId && !isCopy">
                  <button class="btn btn-outline-dark" type="button"
                  *ngIf="(loggedInUser?.roleName === 'Procurement Tag'|| loggedInUser?.roleName === 'Secretary')"
                          (click)="setPaperStatus('Archived')">
                    Archive
                  </button>
                  <button class="btn btn-primary" type="button" (click)="setPaperStatus('Waiting for PDM')"
                          *ngIf="(loggedInUser?.roleName === 'Procurement Tag' || loggedInUser?.roleName === 'CAM')">
                    Send For
                    PDM {{paperDetails?.paperDetails?.paperStatusName === 'Action Required by Pre-CGB' ? 'Review' : 'Approval'}}
                  </button>
                  <button class="btn btn-dark" type="submit" (click)="setPaperStatus('Registered', false)"
                          >
                    Update
                  </button>
                  <div
                    class="d-flex align-items-center justify-content-between gap-3"
                    *ngIf="
                      loggedInUser?.roleName === 'PDM' &&
                      paperDetails?.paperDetails?.paperStatusName === 'Waiting for PDM'
                    "
                  >
                    <button
                      class="btn normal-btn"
                      (click)="open($event, content3, paperId)"
                    >
                      Return to Originator
                    </button>
                    <button
                      class="btn update-btn"
                      (click)="open($event, content2, paperId)"
                    >
                      Approve
                    </button>
                  </div>
                  <div
                    class="d-flex align-items-center justify-content-between gap-3"
                    *ngIf="
                      (loggedInUser?.roleName === 'CGB Chair' ||
                        loggedInUser?.roleName === 'CPO' ||
                        loggedInUser?.roleName === 'JV Admin' ||
                        loggedInUser?.roleName === 'Legal VP-1' ||
                        loggedInUser?.roleName === 'Performance Manager') &&
                      paperDetails?.paperDetails?.paperStatusName === 'On Pre-CGB'
                    "
                  >
                    <button
                      class="btn update-btn"
                      (click)="open($event, content4, paperId)"
                    >
                      Add Review
                    </button>
                  </div>
                  <div class="ic-btn-div d-flex justify-content-end" [routerLink]="['/cgb-voting']"
                       *ngIf="(loggedInUser?.roleName === 'CGB Chair' || loggedInUser?.roleName === 'CPO' || loggedInUser?.roleName === 'JV Admin' || loggedInUser?.roleName === 'Legal VP-1'|| loggedInUser?.roleName === 'Performance Manager') && paperDetails?.paperDetails?.paperStatusName === 'On CGB'">
                    <button class="btn btn-outline-secondary d-flex align-items-center gap-3">
                      Vote Now
                    </button>
                  </div>
                </ng-container>
              </div>
            </div>

          </div>
        </form>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-main-div" *ngIf="isExpanded">
        <div class="form-header mb-4">
          <div class="row align-items-center">
            <div class="col-md-12">
              <div class="fh-title d-flex justify-content-between align-items-center">
                <h3> Comments</h3>
              </div>
            </div>
          </div>
        </div>
        <div class="visitor-logs-card">
          <div class="visitor-box mb-3" *ngFor="let log of logs">
            <div class="vb-img">
              <img src="/img/visitor.png" alt="visitor" class="img-fluid">
            </div>
            <div class="vb-detail">
              <h6>{{ log.logCreateByName }}
                <!--                <span>(Secretary)</span> -->
              </h6>
              <p>
                {{ log.description }}
              </p>
              <small>{{ log.logCreateDate | timeAgo }}</small>
            </div>
          </div>

          <div class="chat-input-group position-relative">
            <textarea class="form-control" [(ngModel)]="comment" placeholder="Write comment here"></textarea>
            <button class="btn" (click)="addPaperCommentLogs()">
              <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M0.636705 0.0448581C0.556778 0.00584078 0.46695 -0.00818904 0.378933 0.00459804C0.290916 0.0173851 0.208793 0.0563957 0.143274 0.116543C0.077754 0.176691 0.0318774 0.255185 0.0116255 0.341789C-0.00862634 0.428394 -0.0023138 0.519092 0.0297403 0.602056L2.55624 7.37997C2.70525 7.78008 2.70525 8.22045 2.55624 8.62056L0.0306291 15.3985C-0.00126334 15.4813 -0.00749372 15.5719 0.0127476 15.6583C0.0329889 15.7448 0.078766 15.8231 0.14413 15.8832C0.209493 15.9433 0.291421 15.9824 0.379265 15.9953C0.46711 16.0082 0.556808 15.9944 0.636705 15.9557L16.6328 8.40195C16.7089 8.36596 16.7732 8.3091 16.8183 8.23799C16.8633 8.16688 16.8872 8.08444 16.8872 8.00027C16.8872 7.91609 16.8633 7.83365 16.8183 7.76254C16.7732 7.69143 16.7089 7.63457 16.6328 7.59859L0.636705 0.0448581Z"
                  fill="#582AA2"/>
                <path d="M3.2002 8H16.0002" stroke="#E6EFFC" stroke-width="0.646308" stroke-linecap="round"
                      stroke-linejoin="round"/>
              </svg>

            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="context-annotations" style="width: 400px;position: absolute;right: 0;"></div>
</div>

<ng-template #content2 let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Approve Paper</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <div class="form-group mb-3">
      <label>Write Comment (If Required)</label>
      <textarea
        class="form-control"
        placeholder="Write here"
        [(ngModel)]="approvalRemark"
      ></textarea>
    </div>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-primary"
      (click)="approvePaper(modal, 'Approval')"
    >
      Save
    </button>
  </div>
</ng-template>

<ng-template #content3 let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Return to Originator</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <div class="form-group mb-3">
      <label>Review By</label>
      <input
        class="form-control"
        type="text"
        placeholder="Write here"
        [(ngModel)]="reviewBy"
      />
    </div>
    <div class="form-group mb-3">
      <label>Write Comment</label>
      <textarea
        class="form-control"
        placeholder="Write here"
        [(ngModel)]="approvalRemark"
      ></textarea>
    </div>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-primary"
      (click)="approvePaper(modal, 'Return to Originator')"
    >
      Save
    </button>
  </div>
</ng-template>

<ng-template #content4 let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Remark</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <div class="form-group mb-3">
      <label>Write Comment</label>
      <textarea
        class="form-control"
        placeholder="Write here"
        [(ngModel)]="approvalRemark"
      ></textarea>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="addReview(modal)">
      Add comment
    </button>
  </div>
</ng-template>
